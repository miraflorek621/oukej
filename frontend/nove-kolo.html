<!DOCTYPE html>
<html lang="cs" class="html-rezervace">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="stylesheet/main.css">
  <title>Rezervace</title>
</head>

<body>

  <div class="e-div-main">
    <div class="div-rezervace">

      <form>

        <label>BycicleName:</label>
        <input id="name" type="text" name="name" required>

        <label>Quantity:</label>
        <input id="quantity" name="email" type="email" required>


        <label>BycicleImage:</label>
        <input id="image" type="file" name="phone" required>

        <label>Brand:</label>
        <input id="brand" type="text" required>







      </form>
      <button onclick="sendRequest()" id="confirm">Potvrdit</button>


    </div>
  </div>


</body>

<script>

  let name = document.getElementById("name");
  let quantity = document.getElementById("quantity");
  let image = document.getElementById("image");
  let brand = document.getElementById("brand");


  function sendRequest() {
    // get values from inputs
    let nameValue = name.value;
    let quantityValue = quantity.value;
    let imageValue = image.value;
    let brandValue = brand.value;

    let myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");

    let formData = new FormData();
    formData.append('file_to_upload', image.files[0]);
    formData.append('BycicleName', nameValue);
    formData.append('Quantity', quantityValue);
    formData.append('Brand', brandValue);
    formData.append('BycicleImage', imageValue);


    let requestOptions = {
      method: 'POST',
      headers: myHeaders,
      body: formData
    };

    fetch("/nove-kolo", requestOptions)
      .then(response => response.json())
      .then(result => {
        console.log(result);
      })
      .catch(error => console.log('error', error));
    
  }

</script>


</html>